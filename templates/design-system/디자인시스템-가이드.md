# 디자인 시스템 가이드

> 이 문서는 프로젝트의 UI/UX 디자인 시스템을 정의합니다.
> Claude Code가 이 문서를 참조하여 일관된 UI를 구현할 수 있도록 모든 디자인 토큰, 컴포넌트 사양, 접근성 요구사항을 구체적으로 명시합니다.

## 1. 디자인 시스템 개요

### 1.1 목적

이 디자인 시스템은 다음 목표를 달성하기 위해 존재합니다:

- **일관성**: 모든 화면에서 동일한 시각 언어를 사용하여 사용자 경험 통일
- **효율성**: 재사용 가능한 컴포넌트와 토큰으로 개발 속도 향상
- **접근성**: WCAG 2.1 AA 기준을 준수하는 포용적 인터페이스 구축
- **확장성**: 새로운 기능과 페이지를 기존 시스템 위에 자연스럽게 확장
- **협업**: 디자이너와 개발자가 공통 언어로 소통

### 1.2 디자인 원칙

1. **명확성 (Clarity)**: 사용자가 즉시 이해할 수 있는 인터페이스. 애매한 아이콘 대신 명확한 레이블, 직관적인 계층 구조
2. **일관성 (Consistency)**: 같은 패턴은 같은 방식으로 동작. 버튼 스타일, 간격, 색상을 시스템에 맞게 통일
3. **접근성 (Accessibility)**: 모든 사용자가 동등하게 이용할 수 있는 인터페이스. 키보드, 스크린 리더, 고대비 모드 지원
4. **반응성 (Responsiveness)**: 모바일부터 데스크톱까지 모든 화면 크기에서 최적의 경험 제공
5. **성능 (Performance)**: 빠른 로딩과 부드러운 인터랙션. 불필요한 장식보다 효율적 전달 우선

### 1.3 디자인 토큰 개념

디자인 토큰(Design Token)은 디자인 결정을 저장하는 가장 작은 단위입니다. 색상, 간격, 타이포그래피, 그림자 등의 값을 변수화하여 관리합니다.

```
디자인 토큰 계층:
Global Token  →  --color-blue-500: #3b82f6
Alias Token   →  --color-primary: var(--color-blue-500)
Component Token → --button-bg: var(--color-primary)
```

- **Global Token**: 원시 값을 정의 (color-blue-500, spacing-4)
- **Alias/Semantic Token**: 의미를 부여 (color-primary, spacing-section)
- **Component Token**: 특정 컴포넌트에 바인딩 (button-bg, card-padding)

### 1.4 Atomic Design 방법론

```
Atoms → Molecules → Organisms → Templates → Pages

[Button] [Input]     →  [Search Bar]      →  [Header Nav]    →  [Page Layout]  →  [Home Page]
[Label] [Icon]       →  [Form Field]      →  [Card List]     →  [Dashboard]    →  [Settings]
[Badge] [Avatar]     →  [User Badge]      →  [Sidebar Nav]   →  [Auth Layout]  →  [Profile]
```

| 레벨 | 설명 | 예시 |
|------|------|------|
| **Atoms** | 더 이상 분해 불가능한 기본 요소 | Button, Input, Label, Icon, Badge |
| **Molecules** | Atom을 조합한 기능 단위 | Form Field, Search Bar, Menu Item |
| **Organisms** | Molecule을 조합한 독립적 UI 영역 | Header, Sidebar, Card Grid, Modal |
| **Templates** | Organism 배치를 정의한 페이지 골격 | Dashboard Layout, Auth Layout |
| **Pages** | Template에 실제 데이터를 채운 최종 화면 | 홈, 설정, 프로필 페이지 |

### 1.5 디자인-개발 워크플로우

```
1. 디자인 토큰 정의 (Figma Variables / JSON)
     ↓
2. 토큰을 CSS 변수 / Tailwind 테마로 변환
     ↓
3. Atom 컴포넌트 구현 (디자인 토큰 적용)
     ↓
4. Molecule/Organism 조합
     ↓
5. 스토리북 문서화 및 시각적 회귀 테스트
     ↓
6. 페이지 조립 및 통합 테스트
```

### 1.6 Figma 연동 전략

- Figma Variables를 디자인 토큰 JSON으로 내보내기 (Style Dictionary 또는 Tokens Studio 활용)
- `tokens.json` → CSS 변수, Tailwind config, TypeScript 타입으로 자동 변환
- Figma 컴포넌트와 코드 컴포넌트 1:1 매핑 유지
- 디자인 변경 시 토큰 JSON 업데이트 → 코드 자동 반영 파이프라인 구축

---

## 2. 디자인 토큰

### 2.1 컬러 시스템

#### 2.1.1 Primary 팔레트

브랜드 아이덴티티를 대표하는 주 색상입니다. CTA 버튼, 주요 링크, 활성 상태에 사용합니다.

| 토큰 | 값 | 용도 |
|------|------|------|
| `--color-primary-50` | `#eff6ff` | 매우 연한 배경, hover 배경 |
| `--color-primary-100` | `#dbeafe` | 연한 배경, 선택 영역 |
| `--color-primary-200` | `#bfdbfe` | 배지 배경, 태그 배경 |
| `--color-primary-300` | `#93c5fd` | 비활성 보더, 장식 |
| `--color-primary-400` | `#60a5fa` | 아이콘, 보조 액센트 |
| `--color-primary-500` | `#3b82f6` | 기본 브랜드 색상, 링크 |
| `--color-primary-600` | `#2563eb` | CTA 버튼 배경, 활성 링크 |
| `--color-primary-700` | `#1d4ed8` | 버튼 hover 상태 |
| `--color-primary-800` | `#1e40af` | 버튼 active/pressed 상태 |
| `--color-primary-900` | `#1e3a8a` | 진한 텍스트 강조 |
| `--color-primary-950` | `#172554` | 가장 진한 배경 |

#### 2.1.2 Secondary 팔레트

보조 액션, 부가 정보 표시에 사용하는 색상입니다.

| 토큰 | 값 | 용도 |
|------|------|------|
| `--color-secondary-50` | `#f5f3ff` | 연한 배경 |
| `--color-secondary-100` | `#ede9fe` | 선택 영역 배경 |
| `--color-secondary-200` | `#ddd6fe` | 배지, 태그 |
| `--color-secondary-300` | `#c4b5fd` | 장식 요소 |
| `--color-secondary-400` | `#a78bfa` | 아이콘 |
| `--color-secondary-500` | `#8b5cf6` | 기본 보조 색상 |
| `--color-secondary-600` | `#7c3aed` | 보조 버튼 배경 |
| `--color-secondary-700` | `#6d28d9` | hover 상태 |
| `--color-secondary-800` | `#5b21b6` | active 상태 |
| `--color-secondary-900` | `#4c1d95` | 진한 강조 |
| `--color-secondary-950` | `#2e1065` | 가장 진한 배경 |

#### 2.1.3 Neutral 팔레트

텍스트, 배경, 보더 등 중립 UI 요소에 사용합니다.

| 토큰 | 값 | 용도 |
|------|------|------|
| `--color-neutral-0` | `#ffffff` | 흰색 배경 |
| `--color-neutral-50` | `#f9fafb` | 페이지 배경 |
| `--color-neutral-100` | `#f3f4f6` | 카드 배경, 입력 배경 |
| `--color-neutral-200` | `#e5e7eb` | 구분선, 보더 |
| `--color-neutral-300` | `#d1d5db` | 비활성 보더 |
| `--color-neutral-400` | `#9ca3af` | placeholder 텍스트 |
| `--color-neutral-500` | `#6b7280` | 보조 텍스트 |
| `--color-neutral-600` | `#4b5563` | 부가 텍스트 |
| `--color-neutral-700` | `#374151` | 본문 텍스트 |
| `--color-neutral-800` | `#1f2937` | 제목 텍스트 |
| `--color-neutral-900` | `#111827` | 가장 진한 텍스트 |
| `--color-neutral-950` | `#030712` | 거의 검정 |

#### 2.1.4 Semantic 컬러

의미를 기반으로 한 상태 색상입니다.

```css
/* Success - 성공, 완료, 긍정적 피드백 */
--color-success-50: #f0fdf4;
--color-success-100: #dcfce7;
--color-success-200: #bbf7d0;
--color-success-500: #22c55e;
--color-success-600: #16a34a;
--color-success-700: #15803d;
--color-success-900: #14532d;

/* Warning - 경고, 주의 */
--color-warning-50: #fffbeb;
--color-warning-100: #fef3c7;
--color-warning-200: #fde68a;
--color-warning-500: #f59e0b;
--color-warning-600: #d97706;
--color-warning-700: #b45309;
--color-warning-900: #78350f;

/* Error/Danger - 오류, 삭제, 위험 */
--color-error-50: #fef2f2;
--color-error-100: #fee2e2;
--color-error-200: #fecaca;
--color-error-500: #ef4444;
--color-error-600: #dc2626;
--color-error-700: #b91c1c;
--color-error-900: #7f1d1d;

/* Info - 정보, 도움말 */
--color-info-50: #f0f9ff;
--color-info-100: #e0f2fe;
--color-info-200: #bae6fd;
--color-info-500: #0ea5e9;
--color-info-600: #0284c7;
--color-info-700: #0369a1;
--color-info-900: #0c4a6e;
```

#### 2.1.5 다크모드 컬러 매핑

라이트/다크 모드 전환을 위한 CSS 변수 매핑입니다. 다크모드에서는 채도를 약간 낮추고 밝기를 조정합니다.

```css
:root {
  /* 배경 */
  --bg-primary: var(--color-neutral-0);
  --bg-secondary: var(--color-neutral-50);
  --bg-tertiary: var(--color-neutral-100);
  --bg-inverse: var(--color-neutral-900);

  /* 텍스트 */
  --text-primary: var(--color-neutral-900);
  --text-secondary: var(--color-neutral-600);
  --text-tertiary: var(--color-neutral-400);
  --text-inverse: var(--color-neutral-0);
  --text-link: var(--color-primary-600);

  /* 보더 */
  --border-default: var(--color-neutral-200);
  --border-strong: var(--color-neutral-300);
  --border-focus: var(--color-primary-500);

  /* 서피스 */
  --surface-default: var(--color-neutral-0);
  --surface-raised: var(--color-neutral-0);
  --surface-overlay: var(--color-neutral-0);
}

[data-theme="dark"] {
  /* 배경 */
  --bg-primary: var(--color-neutral-950);
  --bg-secondary: var(--color-neutral-900);
  --bg-tertiary: var(--color-neutral-800);
  --bg-inverse: var(--color-neutral-50);

  /* 텍스트 */
  --text-primary: var(--color-neutral-50);
  --text-secondary: var(--color-neutral-400);
  --text-tertiary: var(--color-neutral-500);
  --text-inverse: var(--color-neutral-900);
  --text-link: var(--color-primary-400);

  /* 보더 */
  --border-default: var(--color-neutral-700);
  --border-strong: var(--color-neutral-600);
  --border-focus: var(--color-primary-400);

  /* 서피스 */
  --surface-default: var(--color-neutral-900);
  --surface-raised: var(--color-neutral-800);
  --surface-overlay: var(--color-neutral-800);
}
```

#### 2.1.6 Tailwind CSS 커스텀 테마 설정

```js
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: {
          50: 'var(--color-primary-50)',
          100: 'var(--color-primary-100)',
          200: 'var(--color-primary-200)',
          300: 'var(--color-primary-300)',
          400: 'var(--color-primary-400)',
          500: 'var(--color-primary-500)',
          600: 'var(--color-primary-600)',
          700: 'var(--color-primary-700)',
          800: 'var(--color-primary-800)',
          900: 'var(--color-primary-900)',
          950: 'var(--color-primary-950)',
        },
        secondary: { /* 동일 패턴 */ },
        neutral: { /* 동일 패턴 */ },
        success: { /* 동일 패턴 */ },
        warning: { /* 동일 패턴 */ },
        error: { /* 동일 패턴 */ },
        info: { /* 동일 패턴 */ },
      },
    },
  },
};
```

### 2.2 타이포그래피

#### 2.2.1 폰트 패밀리

```css
:root {
  /* Heading: 제목에 사용. 볼드한 산세리프 */
  --font-heading: 'Pretendard', 'Inter', -apple-system, BlinkMacSystemFont,
    'Segoe UI', Roboto, sans-serif;

  /* Body: 본문에 사용. 가독성 높은 산세리프 */
  --font-body: 'Pretendard', 'Inter', -apple-system, BlinkMacSystemFont,
    'Segoe UI', Roboto, sans-serif;

  /* Mono: 코드, 숫자에 사용 */
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Cascadia Code',
    ui-monospace, SFMono-Regular, Consolas, monospace;
}
```

#### 2.2.2 타입 스케일

| 토큰 | Size | Line Height | Letter Spacing | Weight | 용도 |
|------|------|-------------|----------------|--------|------|
| `--text-xs` | 12px (0.75rem) | 16px (1.33) | 0.02em | 400 | 캡션, 보조 레이블 |
| `--text-sm` | 14px (0.875rem) | 20px (1.43) | 0.01em | 400 | 보조 텍스트, 메타 정보 |
| `--text-base` | 16px (1rem) | 24px (1.5) | 0 | 400 | 본문 기본 |
| `--text-lg` | 18px (1.125rem) | 28px (1.56) | -0.01em | 400 | 강조 본문 |
| `--text-xl` | 20px (1.25rem) | 28px (1.4) | -0.01em | 500 | 소제목 |
| `--text-2xl` | 24px (1.5rem) | 32px (1.33) | -0.02em | 600 | 섹션 제목 |
| `--text-3xl` | 30px (1.875rem) | 36px (1.2) | -0.02em | 600 | 페이지 부제목 |
| `--text-4xl` | 36px (2.25rem) | 40px (1.11) | -0.02em | 700 | 페이지 제목 |
| `--text-5xl` | 48px (3rem) | 48px (1.0) | -0.03em | 700 | 히어로 제목 |
| `--text-6xl` | 60px (3.75rem) | 60px (1.0) | -0.03em | 700 | 대형 디스플레이 |
| `--text-7xl` | 72px (4.5rem) | 72px (1.0) | -0.03em | 800 | 초대형 디스플레이 |
| `--text-8xl` | 96px (6rem) | 96px (1.0) | -0.04em | 800 | 랜딩 히어로 |
| `--text-9xl` | 128px (8rem) | 128px (1.0) | -0.04em | 800 | 특수 디스플레이 |

```css
:root {
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
  --text-5xl: 3rem;
  --text-6xl: 3.75rem;
  --text-7xl: 4.5rem;
  --text-8xl: 6rem;
  --text-9xl: 8rem;

  --leading-xs: 1rem;
  --leading-sm: 1.25rem;
  --leading-base: 1.5rem;
  --leading-lg: 1.75rem;
  --leading-xl: 1.75rem;
  --leading-2xl: 2rem;
  --leading-3xl: 2.25rem;
  --leading-4xl: 2.5rem;

  --tracking-tighter: -0.04em;
  --tracking-tight: -0.02em;
  --tracking-normal: 0;
  --tracking-wide: 0.02em;
  --tracking-wider: 0.04em;

  --font-light: 300;
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  --font-extrabold: 800;
}
```

#### 2.2.3 반응형 타이포그래피

화면 크기에 따라 자연스럽게 크기가 조절되는 Fluid Typography를 사용합니다.

```css
/* clamp(최소값, 선호값, 최대값) */
h1 {
  font-size: clamp(2.25rem, 5vw + 1rem, 4.5rem);
  line-height: 1.1;
  letter-spacing: -0.02em;
  font-weight: var(--font-bold);
}

h2 {
  font-size: clamp(1.875rem, 4vw + 0.5rem, 3rem);
  line-height: 1.2;
  letter-spacing: -0.02em;
  font-weight: var(--font-semibold);
}

h3 {
  font-size: clamp(1.5rem, 3vw + 0.25rem, 2.25rem);
  line-height: 1.3;
  letter-spacing: -0.01em;
  font-weight: var(--font-semibold);
}

body {
  font-size: clamp(0.875rem, 1vw + 0.5rem, 1.125rem);
  line-height: 1.5;
  font-weight: var(--font-normal);
}
```

#### 2.2.4 한글 폰트 최적화

```css
/* 서브셋 폰트 로딩 - Pretendard 기준 */
@font-face {
  font-family: 'Pretendard';
  src: url('/fonts/Pretendard-Regular.subset.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap; /* FOIT 방지 */
  unicode-range: U+AC00-D7AF, U+0020-007E; /* 한글 + 기본 라틴 */
}

@font-face {
  font-family: 'Pretendard';
  src: url('/fonts/Pretendard-Bold.subset.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
  unicode-range: U+AC00-D7AF, U+0020-007E;
}
```

한글 폰트 최적화 체크리스트:
- `font-display: swap` 사용하여 FOIT(Flash of Invisible Text) 방지
- 서브셋 폰트 사용 (한글 완성형 2,350자 + 기본 라틴)
- woff2 포맷 우선 사용 (Brotli 압축, 최고 압축률)
- `preload` 링크로 핵심 폰트 우선 로딩
- 가변 폰트(Variable Font) 사용 시 파일 수 감소 가능

```html
<link rel="preload" href="/fonts/Pretendard-Regular.subset.woff2"
      as="font" type="font/woff2" crossorigin>
```

### 2.3 스페이싱

#### 2.3.1 기본 그리드

4px 기본 단위, 8px 주요 단위를 사용하는 스페이싱 시스템입니다.

| 토큰 | 값 | rem | 용도 |
|------|------|-----|------|
| `--space-0` | 0px | 0 | 없음 |
| `--space-0.5` | 2px | 0.125rem | 미세 조정 |
| `--space-1` | 4px | 0.25rem | 아이콘-텍스트 간격 |
| `--space-1.5` | 6px | 0.375rem | 컴팩트 패딩 |
| `--space-2` | 8px | 0.5rem | 인라인 요소 간격 |
| `--space-2.5` | 10px | 0.625rem | 소형 패딩 |
| `--space-3` | 12px | 0.75rem | 버튼 패딩 (sm) |
| `--space-3.5` | 14px | 0.875rem | 중소형 패딩 |
| `--space-4` | 16px | 1rem | 기본 패딩, 카드 내부 |
| `--space-5` | 20px | 1.25rem | 중형 간격 |
| `--space-6` | 24px | 1.5rem | 카드 패딩 (기본) |
| `--space-7` | 28px | 1.75rem | 중대형 간격 |
| `--space-8` | 32px | 2rem | 섹션 내부 간격 |
| `--space-9` | 36px | 2.25rem | 대형 간격 |
| `--space-10` | 40px | 2.5rem | 대형 패딩 |
| `--space-11` | 44px | 2.75rem | 터치 타겟 최소 크기 |
| `--space-12` | 48px | 3rem | 섹션 간격 |
| `--space-14` | 56px | 3.5rem | 대형 섹션 간격 |
| `--space-16` | 64px | 4rem | 페이지 섹션 간격 |
| `--space-20` | 80px | 5rem | 대형 섹션 분리 |
| `--space-24` | 96px | 6rem | 히어로 섹션 패딩 |
| `--space-28` | 112px | 7rem | 특대형 간격 |
| `--space-32` | 128px | 8rem | 최대 간격 |

#### 2.3.2 스페이싱 사용 원칙

```
1. 관련 요소는 가깝게, 무관한 요소는 멀게 (근접성의 원리)
2. 내부 패딩 < 외부 마진 (카드 내부 간격 < 카드 사이 간격)
3. 수직 간격은 수평 간격보다 같거나 크게
4. 일관된 스케일 사용 (임의의 값 사용 금지)
```

적용 예시:
- 같은 그룹 내 요소 간격: `--space-2` ~ `--space-4`
- 그룹 간 간격: `--space-6` ~ `--space-8`
- 섹션 간 간격: `--space-12` ~ `--space-16`
- 페이지 padding: `--space-4` (모바일) ~ `--space-8` (데스크톱)

### 2.4 보더 & 라운딩

#### 2.4.1 Border Radius 스케일

| 토큰 | 값 | 용도 |
|------|------|------|
| `--radius-none` | 0px | 모서리 없음 |
| `--radius-sm` | 4px (0.25rem) | 배지, 태그, 작은 인라인 요소 |
| `--radius-md` | 6px (0.375rem) | 버튼, 입력 필드 |
| `--radius-lg` | 8px (0.5rem) | 카드, 드롭다운 |
| `--radius-xl` | 12px (0.75rem) | 모달, 시트 |
| `--radius-2xl` | 16px (1rem) | 대형 카드, 패널 |
| `--radius-3xl` | 24px (1.5rem) | 플로팅 요소 |
| `--radius-full` | 9999px | 원형 아바타, 필 버튼 |

#### 2.4.2 Border Width & Style

```css
:root {
  --border-width-thin: 1px;
  --border-width-default: 1px;
  --border-width-thick: 2px;
  --border-width-heavy: 4px;

  --border-style-solid: solid;
  --border-style-dashed: dashed;

  /* 합성 토큰 */
  --border-default: var(--border-width-default) solid var(--border-default);
  --border-focus: var(--border-width-thick) solid var(--border-focus);
}
```

### 2.5 그림자 & 엘리베이션

#### 2.5.1 Shadow 레벨

```css
:root {
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1),
               0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1),
               0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1),
               0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1),
               0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
}

/* 다크모드 그림자 - 검은색 불투명도 증가 */
[data-theme="dark"] {
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.3),
               0 1px 2px -1px rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4),
               0 2px 4px -2px rgb(0 0 0 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4),
               0 4px 6px -4px rgb(0 0 0 / 0.3);
}
```

| 레벨 | 토큰 | 용도 |
|------|------|------|
| 0 | 없음 | 평면 요소 |
| 1 | `--shadow-xs` | 미세한 분리 (입력 필드) |
| 2 | `--shadow-sm` | 카드, 기본 컨테이너 |
| 3 | `--shadow-md` | 드롭다운, 팝오버 |
| 4 | `--shadow-lg` | 모달, 다이얼로그 |
| 5 | `--shadow-xl` | 알림, 토스트 |
| 6 | `--shadow-2xl` | 최상위 오버레이 |

#### 2.5.2 Z-index 시스템

```css
:root {
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-fixed: 300;
  --z-drawer: 400;
  --z-modal: 500;
  --z-popover: 600;
  --z-tooltip: 700;
  --z-toast: 800;
  --z-max: 9999;
}
```

사용 규칙:
- 각 레이어는 100 단위 간격으로 구분하여 중간 삽입 가능
- 같은 레이어 내 요소는 DOM 순서로 쌓기 결정
- `z-index` 사용 시 반드시 `position` 지정 (relative, absolute, fixed, sticky)
- 새로운 stacking context 생성 시 주의 (transform, opacity, will-change)

### 2.6 모션 & 애니메이션

#### 2.6.1 Duration 스케일

| 토큰 | 값 | 용도 |
|------|------|------|
| `--duration-instant` | 0ms | 즉시 전환 |
| `--duration-fast` | 150ms | 호버, 포커스, 색상 변화 |
| `--duration-normal` | 300ms | 일반적인 전환, 드롭다운 |
| `--duration-slow` | 500ms | 모달 열기/닫기, 큰 요소 이동 |
| `--duration-slower` | 700ms | 페이지 전환, 복잡한 애니메이션 |

#### 2.6.2 Easing 함수

```css
:root {
  /* 기본 이징 */
  --ease-linear: linear;
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

  /* 커스텀 이징 - 자연스러운 움직임 */
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-smooth: cubic-bezier(0.25, 0.1, 0.25, 1);
}
```

| 이징 | 사용 상황 |
|------|----------|
| `ease-out` | 요소가 나타날 때 (모달 열기, 드롭다운 펼침) |
| `ease-in` | 요소가 사라질 때 (모달 닫기, 드롭다운 접기) |
| `ease-in-out` | 상태 전환 (탭 전환, 슬라이드) |
| `ease-spring` | 강조 애니메이션 (스케일 바운스) |

#### 2.6.3 트랜지션 패턴

```css
/* Fade */
.fade-enter { opacity: 0; }
.fade-enter-active {
  opacity: 1;
  transition: opacity var(--duration-normal) var(--ease-out);
}
.fade-exit { opacity: 1; }
.fade-exit-active {
  opacity: 0;
  transition: opacity var(--duration-fast) var(--ease-in);
}

/* Slide Up */
.slide-up-enter {
  opacity: 0;
  transform: translateY(8px);
}
.slide-up-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: all var(--duration-normal) var(--ease-out);
}

/* Scale */
.scale-enter {
  opacity: 0;
  transform: scale(0.95);
}
.scale-enter-active {
  opacity: 1;
  transform: scale(1);
  transition: all var(--duration-normal) var(--ease-spring);
}

/* Collapse (높이 애니메이션) */
.collapse-enter {
  height: 0;
  overflow: hidden;
  opacity: 0;
}
.collapse-enter-active {
  height: var(--collapse-height);
  opacity: 1;
  transition: height var(--duration-normal) var(--ease-out),
              opacity var(--duration-normal) var(--ease-out);
}
```

#### 2.6.4 모션 접근성

```css
/* 모션 감소 선호 시 애니메이션 비활성화 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
```

규칙:
- 장식적 애니메이션은 반드시 `prefers-reduced-motion`으로 제어
- 기능적 애니메이션(로딩 스피너 등)은 축소하되 완전 제거하지 않음
- 자동 재생 애니메이션은 일시정지 가능해야 함
- 깜빡임 효과는 초당 3회 미만으로 제한

### 2.7 아이콘

#### 2.7.1 아이콘 시스템

SVG 기반 아이콘 시스템을 사용합니다. lucide 또는 heroicons 라이브러리를 기본으로 활용합니다.

#### 2.7.2 크기 표준

| 토큰 | 크기 | 용도 |
|------|------|------|
| `--icon-xs` | 12px | 인라인 장식, 상태 표시 |
| `--icon-sm` | 16px | 버튼 내부, 인라인 아이콘 |
| `--icon-md` | 20px | 네비게이션, 메뉴 아이콘 |
| `--icon-base` | 24px | 기본 아이콘, 목록 아이콘 |
| `--icon-lg` | 32px | 카드 아이콘, 기능 아이콘 |
| `--icon-xl` | 48px | 빈 상태, 일러스트 보조 |

#### 2.7.3 아이콘 사용 규칙

```
아이콘 네이밍 컨벤션:
- 동작: icon-[action] (icon-edit, icon-delete, icon-save)
- 객체: icon-[object] (icon-user, icon-file, icon-folder)
- 상태: icon-[state] (icon-check, icon-warning, icon-error)
- 방향: icon-[direction] (icon-chevron-right, icon-arrow-up)
```

- 아이콘은 항상 `currentColor`를 사용하여 부모 텍스트 색상을 상속
- 의미 전달 아이콘은 `aria-label` 필수, 장식 아이콘은 `aria-hidden="true"`
- 아이콘과 텍스트 사이 간격은 `--space-1` (4px) ~ `--space-2` (8px)
- stroke 기반 아이콘은 `stroke-width: 1.5` ~ `2`를 기본으로 사용

```html
<!-- 의미 전달 아이콘 -->
<svg aria-label="삭제" role="img" class="icon icon-md">...</svg>

<!-- 장식 아이콘 (텍스트와 함께) -->
<button>
  <svg aria-hidden="true" class="icon icon-sm">...</svg>
  <span>저장</span>
</button>
```

---

## 3. 레이아웃 시스템

### 3.1 그리드 시스템

#### 3.1.1 12컬럼 그리드

표준 12컬럼 그리드를 사용합니다. 12는 2, 3, 4, 6으로 나눌 수 있어 다양한 레이아웃을 구성할 수 있습니다.

```css
.grid-container {
  --grid-columns: 12;
  --grid-gutter: var(--space-6);    /* 24px */
  --grid-margin: var(--space-4);    /* 16px (모바일) */

  display: grid;
  grid-template-columns: repeat(var(--grid-columns), 1fr);
  gap: var(--grid-gutter);
  padding-inline: var(--grid-margin);
  max-width: 1280px;
  margin-inline: auto;
}

/* 반응형 그리드 마진 */
@media (min-width: 768px) {
  .grid-container {
    --grid-margin: var(--space-8);  /* 32px */
  }
}

@media (min-width: 1280px) {
  .grid-container {
    --grid-margin: var(--space-12); /* 48px */
  }
}
```

#### 3.1.2 CSS Grid vs Flexbox 사용 기준

| 상황 | 추천 | 이유 |
|------|------|------|
| 2차원 레이아웃 (행 + 열) | CSS Grid | 행과 열 동시 제어 가능 |
| 1차원 정렬 (행 또는 열) | Flexbox | 한 방향 정렬에 최적 |
| 카드 그리드 (균일) | CSS Grid | auto-fill/auto-fit으로 반응형 처리 |
| 네비게이션 바 | Flexbox | 아이템 간 간격 조절 유연 |
| 전체 페이지 레이아웃 | CSS Grid | 영역 지정 (grid-template-areas) |
| 아이템 크기 불확정 | Flexbox | 콘텐츠 크기에 따른 유연한 배치 |
| 정확한 2차원 배치 | CSS Grid | 명시적 행/열 배치 |

#### 3.1.3 반응형 그리드 패턴

```css
/* 자동 반응형 카드 그리드 - auto-fill */
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--space-6);
}

/* 고정 컬럼 수 반응형 그리드 */
.grid-responsive {
  display: grid;
  grid-template-columns: 1fr;                    /* 모바일: 1열 */
  gap: var(--space-4);
}

@media (min-width: 640px) {
  .grid-responsive {
    grid-template-columns: repeat(2, 1fr);        /* sm: 2열 */
  }
}

@media (min-width: 1024px) {
  .grid-responsive {
    grid-template-columns: repeat(3, 1fr);        /* lg: 3열 */
    gap: var(--space-6);
  }
}

@media (min-width: 1280px) {
  .grid-responsive {
    grid-template-columns: repeat(4, 1fr);        /* xl: 4열 */
  }
}
```

### 3.2 브레이크포인트

| 토큰 | 값 | 최소 폭 | 용도 |
|------|------|---------|------|
| `--breakpoint-sm` | 640px | 640px | 대형 모바일, 소형 태블릿 |
| `--breakpoint-md` | 768px | 768px | 태블릿 세로 |
| `--breakpoint-lg` | 1024px | 1024px | 태블릿 가로, 소형 데스크톱 |
| `--breakpoint-xl` | 1280px | 1280px | 데스크톱 |
| `--breakpoint-2xl` | 1536px | 1536px | 대형 데스크톱 |

#### 3.2.1 모바일 퍼스트 접근법

```css
/* 기본 스타일 = 모바일 */
.component {
  flex-direction: column;
  padding: var(--space-4);
}

/* 점진적으로 큰 화면 대응 */
@media (min-width: 640px)  { /* sm: 소형 태블릿 */ }
@media (min-width: 768px)  { /* md: 태블릿 */ }
@media (min-width: 1024px) { /* lg: 데스크톱 */ }
@media (min-width: 1280px) { /* xl: 대형 데스크톱 */ }
@media (min-width: 1536px) { /* 2xl: 초대형 */ }
```

#### 3.2.2 컨테이너 쿼리

부모 컨테이너 크기 기반 반응형 디자인을 위해 컨테이너 쿼리를 활용합니다.

```css
/* 컨테이너 선언 */
.card-container {
  container-type: inline-size;
  container-name: card;
}

/* 컨테이너 크기에 따른 스타일 */
@container card (min-width: 400px) {
  .card {
    flex-direction: row;
  }
  .card__image {
    width: 40%;
  }
}

@container card (min-width: 600px) {
  .card {
    gap: var(--space-6);
  }
}
```

### 3.3 레이아웃 패턴

#### 3.3.1 Sidebar + Main Content

```css
.layout-sidebar {
  display: grid;
  grid-template-columns: 1fr;
  min-height: 100dvh;
}

@media (min-width: 1024px) {
  .layout-sidebar {
    grid-template-columns: 260px 1fr;
  }
}

.sidebar {
  position: sticky;
  top: 0;
  height: 100dvh;
  overflow-y: auto;
  border-right: 1px solid var(--border-default);
  background: var(--bg-secondary);
  padding: var(--space-4);
}

.main-content {
  padding: var(--space-6);
  max-width: 1080px;
}
```

#### 3.3.2 Header + Content + Sticky Footer

```css
.layout-page {
  display: grid;
  grid-template-rows: auto 1fr auto;
  min-height: 100dvh;
}

.header {
  position: sticky;
  top: 0;
  z-index: var(--z-sticky);
  background: var(--bg-primary);
  border-bottom: 1px solid var(--border-default);
  padding: var(--space-3) var(--space-6);
}

.content {
  padding: var(--space-6);
}

.footer {
  border-top: 1px solid var(--border-default);
  padding: var(--space-4) var(--space-6);
  background: var(--bg-secondary);
}
```

#### 3.3.3 Dashboard Grid

```css
.layout-dashboard {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto auto auto;
  gap: var(--space-6);
  padding: var(--space-6);
}

@media (min-width: 768px) {
  .layout-dashboard {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1280px) {
  .layout-dashboard {
    grid-template-columns: repeat(4, 1fr);
  }

  /* 넓은 위젯 */
  .widget-wide { grid-column: span 2; }
  .widget-full { grid-column: 1 / -1; }
}
```

#### 3.3.4 레이아웃 컴포넌트 패턴

```css
.stack { display: flex; flex-direction: column; gap: var(--stack-gap, var(--space-4)); }
.cluster { display: flex; flex-wrap: wrap; gap: var(--cluster-gap, var(--space-3)); align-items: center; }
.center { max-width: var(--center-max, 640px); margin-inline: auto; }
.container { max-width: var(--container-max, 1280px); margin-inline: auto; padding-inline: var(--space-4); }
```

### 3.4 반응형 디자인

#### 3.4.1 모바일 퍼스트 CSS 작성 원칙

```css
/* 1. 기본: 모바일 스타일 작성 */
.navigation {
  flex-direction: column;
  gap: var(--space-2);
}

/* 2. 점진적 확장: min-width 미디어 쿼리만 사용 */
@media (min-width: 768px) {
  .navigation {
    flex-direction: row;
    gap: var(--space-4);
  }
}

/* max-width 사용 금지 (모바일 퍼스트 위반) */
```

#### 3.4.2 반응형 이미지

```html
<!-- picture 요소로 포맷 & 크기 분기 -->
<picture>
  <source srcset="/img/hero.avif" type="image/avif">
  <source srcset="/img/hero.webp" type="image/webp">
  <img
    src="/img/hero.jpg"
    alt="설명 텍스트"
    width="1200"
    height="600"
    loading="lazy"
    decoding="async"
    style="aspect-ratio: 2/1; object-fit: cover; width: 100%; height: auto;"
  >
</picture>

<!-- srcset + sizes로 해상도별 이미지 제공 -->
<img
  srcset="
    /img/photo-400w.jpg 400w,
    /img/photo-800w.jpg 800w,
    /img/photo-1200w.jpg 1200w
  "
  sizes="
    (min-width: 1024px) 33vw,
    (min-width: 640px) 50vw,
    100vw
  "
  src="/img/photo-800w.jpg"
  alt="설명 텍스트"
  loading="lazy"
>
```

#### 3.4.3 반응형 테이블

```css
/* 소형 화면: 카드형 테이블 */
@media (max-width: 767px) {
  .responsive-table thead { display: none; }

  .responsive-table tr {
    display: block;
    margin-bottom: var(--space-4);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    padding: var(--space-3);
  }

  .responsive-table td {
    display: flex;
    justify-content: space-between;
    padding: var(--space-2) 0;
    border-bottom: 1px solid var(--border-default);
  }

  .responsive-table td::before {
    content: attr(data-label);
    font-weight: var(--font-semibold);
    color: var(--text-secondary);
  }
}

/* 대형 화면: 수평 스크롤 */
.table-wrapper {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}
```

#### 3.4.4 반응형 네비게이션

```
모바일 (< 768px):
- 상단 바 + 햄버거 버튼
- 메뉴 클릭 시 풀스크린 또는 사이드 Drawer 오픈
- 하단 탭 바 (BottomNav) 사용 가능

태블릿 (768px ~ 1023px):
- 축소된 사이드바 (아이콘만) 또는 상단 바
- 주요 메뉴 항목만 표시, 나머지 "더보기" 메뉴

데스크톱 (>= 1024px):
- 전체 사이드바 또는 상단 메가 메뉴
- 모든 메뉴 항목 표시
```

---

## 4. 컴포넌트 라이브러리

### 4.1 기본 컴포넌트 (Atoms)

#### 4.1.1 Button

**변형 (Variants)**

| 변형 | 배경 | 텍스트 | 보더 | 용도 |
|------|------|--------|------|------|
| `primary` | `--color-primary-600` | 흰색 | 없음 | 주요 액션 (저장, 제출) |
| `secondary` | `--bg-primary` | `--color-primary-600` | `--color-primary-300` | 보조 액션 (취소, 뒤로) |
| `ghost` | 투명 | `--text-secondary` | 없음 | 저강도 액션, 텍스트 버튼 |
| `danger` | `--color-error-600` | 흰색 | 없음 | 파괴적 액션 (삭제) |
| `outline` | 투명 | `--text-primary` | `--border-default` | 중립 액션 |

**크기 (Sizes)**

| 크기 | 높이 | 패딩 | 폰트 크기 | 아이콘 크기 |
|------|------|------|----------|-----------|
| `sm` | 32px | 0 12px | 14px | 16px |
| `md` | 40px | 0 16px | 14px | 20px |
| `lg` | 48px | 0 24px | 16px | 20px |

**상태 (States)**

```css
.btn {
  cursor: pointer;
  border-radius: var(--radius-md);
  font-weight: var(--font-medium);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  transition: background var(--duration-fast) var(--ease-out),
              box-shadow var(--duration-fast) var(--ease-out);
}

.btn:hover { /* 밝기 조정 */ }

.btn:focus-visible {
  outline: 2px solid var(--color-primary-500);
  outline-offset: 2px;
}

.btn:active { transform: scale(0.98); }

.btn:disabled, .btn[aria-disabled="true"] {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

.btn--loading {
  position: relative;
  color: transparent;
  pointer-events: none;
}

.btn--loading::after {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  width: 20px;
  height: 20px;
  border: 2px solid currentColor;
  border-right-color: transparent;
  border-radius: var(--radius-full);
  animation: spin 0.6s linear infinite;
}
```

**아이콘 버튼**

```html
<!-- 텍스트 + 아이콘 -->
<button class="btn btn-primary btn-md">
  <svg aria-hidden="true" class="icon icon-sm">...</svg>
  <span>저장</span>
</button>

<!-- 아이콘만 (정사각형) -->
<button class="btn btn-ghost btn-icon" aria-label="설정">
  <svg aria-hidden="true" class="icon icon-md">...</svg>
</button>
```

**접근성 요구사항**:
- 모든 버튼에 명확한 텍스트 레이블 또는 `aria-label` 필수
- 로딩 상태: `aria-busy="true"` 추가
- 비활성화: `disabled` 속성 또는 `aria-disabled="true"` 사용
- 키보드: Enter/Space로 활성화

#### 4.1.2 Input

타입: text, email, password, number, search, tel, url

```html
<div class="form-field">
  <label for="email" class="form-label">
    이메일 <span class="form-required" aria-hidden="true">*</span>
  </label>
  <div class="input-wrapper">
    <span class="input-prefix"><svg aria-hidden="true">...</svg></span>
    <input type="email" id="email" class="input input-md"
           placeholder="name@example.com" required aria-required="true"
           aria-describedby="email-help email-error" />
    <span class="input-suffix"><svg aria-hidden="true">...</svg></span>
  </div>
  <p id="email-help" class="form-help">업무용 이메일을 입력하세요.</p>
  <p id="email-error" class="form-error" role="alert" hidden>올바른 이메일 형식이 아닙니다.</p>
</div>
```

| 크기 | 높이 | 패딩 | 폰트 크기 |
|------|------|------|----------|
| `sm` | 32px | 0 8px | 14px |
| `md` | 40px | 0 12px | 14px |
| `lg` | 48px | 0 16px | 16px |

```css
.input {
  width: 100%;
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  background: var(--bg-primary);
  color: var(--text-primary);
  transition: border-color var(--duration-fast) var(--ease-out),
              box-shadow var(--duration-fast) var(--ease-out);
}
.input:hover { border-color: var(--border-strong); }
.input:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px rgb(59 130 246 / 0.15);
  outline: none;
}
.input:disabled { background: var(--bg-tertiary); opacity: 0.5; cursor: not-allowed; }
.input[aria-invalid="true"] { border-color: var(--color-error-500); }
.input[aria-invalid="true"]:focus { box-shadow: 0 0 0 3px rgb(239 68 68 / 0.15); }
```

#### 4.1.3 Textarea

```css
.textarea {
  min-height: 80px;
  resize: vertical;
}
.textarea--auto-resize {
  resize: none;
  overflow: hidden;
  /* JS로 scrollHeight에 맞춰 높이 조절 */
}
```

글자 수 카운트: `<span class="char-count" aria-live="polite">0/500</span>`

#### 4.1.4 Select

```html
<!-- Native Select -->
<select class="select select-md" aria-label="카테고리 선택">
  <option value="" disabled selected>선택하세요</option>
  <option value="1">옵션 1</option>
</select>

<!-- Custom Select -->
<div class="select-custom" role="combobox" aria-expanded="false" aria-haspopup="listbox">
  <button class="select-trigger" aria-label="카테고리 선택">
    <span>선택하세요</span>
    <svg aria-hidden="true" class="icon icon-sm"><!-- chevron-down --></svg>
  </button>
  <ul class="select-listbox" role="listbox" hidden>
    <li role="option" aria-selected="false">옵션 1</li>
    <li role="option" aria-selected="true">옵션 2</li>
  </ul>
</div>
```

#### 4.1.5 Checkbox, Radio, Switch

```html
<!-- Checkbox -->
<label class="checkbox">
  <input type="checkbox" class="checkbox-input" />
  <span class="checkbox-control" aria-hidden="true"></span>
  <span class="checkbox-label">이용약관에 동의합니다</span>
</label>

<!-- Radio Group -->
<fieldset>
  <legend class="form-label">결제 방법</legend>
  <label class="radio">
    <input type="radio" name="payment" value="card" class="radio-input" />
    <span class="radio-control" aria-hidden="true"></span>
    <span class="radio-label">신용카드</span>
  </label>
</fieldset>

<!-- Switch/Toggle -->
<label class="switch">
  <input type="checkbox" role="switch" class="switch-input" aria-checked="false" />
  <span class="switch-track" aria-hidden="true"><span class="switch-thumb"></span></span>
  <span class="switch-label">알림 받기</span>
</label>
```

히트 영역: 최소 20x20px (터치: 44x44px)

#### 4.1.6 Badge, Tag, Chip

```css
.badge {
  display: inline-flex; align-items: center;
  padding: 2px 8px; font-size: var(--text-xs);
  font-weight: var(--font-medium); border-radius: var(--radius-full);
}
.badge--primary { background: var(--color-primary-100); color: var(--color-primary-700); }
.badge--success { background: var(--color-success-100); color: var(--color-success-700); }
.badge--warning { background: var(--color-warning-100); color: var(--color-warning-700); }
.badge--error { background: var(--color-error-100); color: var(--color-error-700); }

.tag {
  display: inline-flex; align-items: center; gap: var(--space-1);
  padding: 4px 10px; font-size: var(--text-sm);
  border: 1px solid var(--border-default); border-radius: var(--radius-md);
}

.chip { cursor: pointer; }
.chip[aria-selected="true"] {
  background: var(--color-primary-100);
  border-color: var(--color-primary-300);
  color: var(--color-primary-700);
}
```

#### 4.1.7 Avatar

| 크기 | 값 | 용도 |
|------|------|------|
| `xs` | 24px | 인라인, 댓글 |
| `sm` | 32px | 목록, 아바타 그룹 |
| `md` | 40px | 카드, 네비게이션 |
| `lg` | 56px | 프로필 상세 |
| `xl` | 80px | 프로필 페이지 |

```html
<!-- 이미지 아바타 -->
<div class="avatar avatar-md"><img src="/avatar.jpg" alt="김철수" /></div>

<!-- 이니셜 아바타 -->
<div class="avatar avatar-md avatar--initials" aria-label="김철수">
  <span aria-hidden="true">김</span>
</div>

<!-- 아바타 그룹 -->
<div class="avatar-group" aria-label="참여자 5명">
  <div class="avatar avatar-sm"><img src="..." alt="김철수" /></div>
  <div class="avatar avatar-sm"><img src="..." alt="이영희" /></div>
  <div class="avatar avatar-sm avatar--count">+3</div>
</div>
```

#### 4.1.8 Tooltip & Popover

```html
<!-- Tooltip -->
<button aria-describedby="tooltip-1">설정</button>
<div id="tooltip-1" role="tooltip" class="tooltip" hidden>설정으로 이동</div>

<!-- Popover -->
<button aria-expanded="false" aria-controls="popover-1">자세히</button>
<div id="popover-1" class="popover" role="dialog" aria-label="상세 정보" hidden>
  <div class="popover__content"><!-- 리치 콘텐츠 --></div>
</div>
```

- Tooltip: 최대 1~2줄, 호버 후 200ms 딜레이, 키보드 포커스 대응
- Popover: 클릭 토글, 리치 콘텐츠, Escape로 닫기

#### 4.1.9 Spinner, Skeleton, Progress

```html
<!-- Spinner -->
<div class="spinner spinner-md" role="status" aria-label="로딩 중">
  <svg class="spinner__icon" viewBox="0 0 24 24">...</svg>
</div>

<!-- Skeleton -->
<div class="skeleton" aria-busy="true" aria-label="콘텐츠 로딩 중">
  <div class="skeleton__line skeleton__line--title"></div>
  <div class="skeleton__line"></div>
  <div class="skeleton__line skeleton__line--short"></div>
</div>

<!-- Progress Bar -->
<div class="progress" role="progressbar"
     aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"
     aria-label="업로드 진행률">
  <div class="progress__bar" style="width: 65%"></div>
</div>
```

```css
.skeleton__line {
  height: 16px;
  background: linear-gradient(90deg,
    var(--color-neutral-200) 25%, var(--color-neutral-100) 50%, var(--color-neutral-200) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
  border-radius: var(--radius-sm);
  margin-bottom: var(--space-2);
}

@keyframes skeleton-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
```

### 4.2 복합 컴포넌트 (Molecules)

#### 4.2.1 Card

```html
<article class="card">
  <div class="card__header">
    <h3 class="card__title">카드 제목</h3>
    <p class="card__subtitle">보조 설명</p>
  </div>
  <div class="card__body"><p>카드 본문 콘텐츠</p></div>
  <div class="card__footer">
    <button class="btn btn-primary btn-sm">액션</button>
  </div>
</article>
```

변형: 기본 (보더+배경), `card--clickable` (hover 그림자, 커서 포인터), `card--selected` (보더 색상 변경), `card--horizontal` (가로 배치)

```css
.card {
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  background: var(--surface-default);
  overflow: hidden;
}
.card--clickable { cursor: pointer; transition: box-shadow var(--duration-fast) var(--ease-out); }
.card--clickable:hover { box-shadow: var(--shadow-md); }
.card--clickable:focus-within { outline: 2px solid var(--border-focus); outline-offset: 2px; }
.card__header { padding: var(--space-4) var(--space-4) 0; }
.card__body { padding: var(--space-4); }
.card__footer { padding: 0 var(--space-4) var(--space-4); display: flex; justify-content: flex-end; gap: var(--space-2); }
```

#### 4.2.2 Form Field

```html
<div class="form-field">
  <label for="name" class="form-label">이름 <span class="form-required" aria-hidden="true">*</span></label>
  <input type="text" id="name" class="input input-md" aria-required="true" aria-describedby="name-error" />
  <p class="form-help">실명을 입력하세요.</p>
  <p id="name-error" class="form-error" role="alert" hidden>이름은 필수 항목입니다.</p>
</div>
```

```css
.form-field { display: flex; flex-direction: column; gap: var(--space-1.5); }
.form-label { font-size: var(--text-sm); font-weight: var(--font-medium); color: var(--text-primary); }
.form-required { color: var(--color-error-500); }
.form-help { font-size: var(--text-xs); color: var(--text-tertiary); }
.form-error { font-size: var(--text-xs); color: var(--color-error-600); }
```

#### 4.2.3 Search Bar

```html
<div class="search-bar" role="search">
  <div class="input-wrapper">
    <svg class="input-prefix icon icon-sm" aria-hidden="true"><!-- search --></svg>
    <input type="search" class="input input-md" placeholder="검색..."
           aria-label="검색" aria-expanded="false" aria-controls="search-results"
           aria-autocomplete="list" role="combobox" />
    <kbd class="search-shortcut" aria-hidden="true">Ctrl+K</kbd>
  </div>
  <ul id="search-results" class="search-results" role="listbox" hidden>
    <li role="option" class="search-result__item">결과 1</li>
  </ul>
</div>
```

#### 4.2.4 Dropdown Menu

```html
<div class="dropdown">
  <button class="dropdown__trigger" aria-expanded="false" aria-haspopup="menu">
    옵션 <svg aria-hidden="true"><!-- chevron-down --></svg>
  </button>
  <div class="dropdown__content" role="menu" hidden>
    <div class="dropdown__group">
      <span class="dropdown__group-label">파일</span>
      <button class="dropdown__item" role="menuitem">
        <svg aria-hidden="true"><!-- icon --></svg>
        <span>새 파일</span>
        <kbd class="dropdown__shortcut">Ctrl+N</kbd>
      </button>
    </div>
    <div class="dropdown__separator" role="separator"></div>
    <button class="dropdown__item dropdown__item--danger" role="menuitem">
      <svg aria-hidden="true"><!-- icon --></svg>
      <span>삭제</span>
    </button>
  </div>
</div>
```

키보드: Enter/Space (열기/닫기), Arrow Down/Up (이동), Home/End (처음/끝), Escape (닫기+포커스 복원)

#### 4.2.5 Tabs

```html
<div class="tabs">
  <div class="tabs__list" role="tablist" aria-label="설정 탭">
    <button class="tabs__tab" role="tab" aria-selected="true" aria-controls="panel-1" id="tab-1">일반</button>
    <button class="tabs__tab" role="tab" aria-selected="false" aria-controls="panel-2" id="tab-2" tabindex="-1">보안</button>
  </div>
  <div class="tabs__panel" role="tabpanel" id="panel-1" aria-labelledby="tab-1"><!-- 패널 --></div>
  <div class="tabs__panel" role="tabpanel" id="panel-2" aria-labelledby="tab-2" hidden><!-- 패널 --></div>
</div>
```

변형: `tabs--default` (하단 보더), `tabs--pill` (라운드 배경), `tabs--underline` (하단 라인)

#### 4.2.6 Accordion / Collapsible

```html
<div class="accordion">
  <div class="accordion__item">
    <h3>
      <button class="accordion__trigger" aria-expanded="true" aria-controls="acc-panel-1">
        <span>자주 묻는 질문 1</span>
        <svg class="accordion__icon" aria-hidden="true"><!-- chevron-down --></svg>
      </button>
    </h3>
    <div class="accordion__panel" id="acc-panel-1" role="region">
      <div class="accordion__content"><p>답변 내용입니다.</p></div>
    </div>
  </div>
</div>
```

#### 4.2.7 Pagination

```html
<nav class="pagination" aria-label="페이지 네비게이션">
  <button class="pagination__btn" aria-label="이전 페이지" disabled>
    <svg aria-hidden="true"><!-- chevron-left --></svg>
  </button>
  <button class="pagination__page" aria-current="page">1</button>
  <button class="pagination__page">2</button>
  <span class="pagination__ellipsis" aria-hidden="true">...</span>
  <button class="pagination__page">10</button>
  <button class="pagination__btn" aria-label="다음 페이지">
    <svg aria-hidden="true"><!-- chevron-right --></svg>
  </button>
</nav>
```

#### 4.2.8 Breadcrumb

```html
<nav class="breadcrumb" aria-label="현재 위치">
  <ol class="breadcrumb__list">
    <li class="breadcrumb__item">
      <a href="/" class="breadcrumb__link">홈</a>
      <svg class="breadcrumb__separator" aria-hidden="true"><!-- / --></svg>
    </li>
    <li class="breadcrumb__item">
      <span class="breadcrumb__current" aria-current="page">현재 페이지</span>
    </li>
  </ol>
</nav>
```

#### 4.2.9 Alert / Banner

```html
<div class="alert alert--warning" role="alert">
  <svg class="alert__icon" aria-hidden="true"><!-- warning --></svg>
  <div class="alert__content">
    <h4 class="alert__title">주의</h4>
    <p class="alert__description">저장하지 않은 변경 사항이 있습니다.</p>
  </div>
  <button class="alert__close" aria-label="알림 닫기">
    <svg aria-hidden="true"><!-- x --></svg>
  </button>
</div>
```

변형: `alert--info`, `alert--success`, `alert--warning`, `alert--error`

### 4.3 복합 컴포넌트 (Organisms)

#### 4.3.1 Modal / Dialog

```html
<div class="modal-overlay" aria-hidden="true"></div>
<div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
  <div class="modal__header">
    <h2 id="modal-title" class="modal__title">삭제 확인</h2>
    <button class="modal__close" aria-label="닫기"><svg aria-hidden="true">...</svg></button>
  </div>
  <div class="modal__body">
    <p>이 항목을 삭제하시겠습니까? 되돌릴 수 없습니다.</p>
  </div>
  <div class="modal__footer">
    <button class="btn btn-secondary btn-md">취소</button>
    <button class="btn btn-danger btn-md">삭제</button>
  </div>
</div>
```

크기: `modal--sm` (400px), `modal--md` (560px), `modal--lg` (720px), `modal--full` (100%)

접근성:
- 포커스 트랩: 모달 내에서만 Tab 이동
- 열릴 때: 첫 포커스 가능 요소로 이동
- 닫힐 때: 트리거 요소로 포커스 복원
- Escape로 닫기
- 배경 스크롤 방지

#### 4.3.2 Drawer / Sheet

```html
<div class="drawer drawer--right" role="dialog" aria-modal="true" aria-label="필터">
  <div class="drawer__header">
    <h2 class="drawer__title">필터</h2>
    <button class="drawer__close" aria-label="닫기"><svg aria-hidden="true">...</svg></button>
  </div>
  <div class="drawer__body"><!-- 콘텐츠 --></div>
  <div class="drawer__footer"><button class="btn btn-primary btn-md">적용</button></div>
</div>
```

방향: `drawer--left`, `drawer--right`, `drawer--bottom`
크기: 좌/우 기본 320px, 하단 기본 50vh

#### 4.3.3 Toast / Notification

```html
<div class="toast-container" aria-live="polite" aria-relevant="additions">
  <div class="toast toast--success" role="status">
    <svg class="toast__icon" aria-hidden="true"><!-- check --></svg>
    <div class="toast__content">
      <p class="toast__message">저장되었습니다.</p>
    </div>
    <button class="toast__close" aria-label="닫기"><svg aria-hidden="true">...</svg></button>
  </div>
</div>
```

- 위치: 상단 우측(기본), 상단 중앙, 하단 중앙
- 자동 닫기: 기본 5초 (에러는 수동 닫기 필수)
- 여러 토스트 스택: 위로 쌓기, 최대 5개

#### 4.3.4 Table

```html
<div class="table-wrapper" role="region" aria-label="사용자 목록" tabindex="0">
  <table class="table">
    <thead>
      <tr>
        <th scope="col" aria-sort="ascending">
          <button class="table__sort">이름 <svg aria-hidden="true">...</svg></button>
        </th>
        <th scope="col">이메일</th>
        <th scope="col">상태</th>
        <th scope="col"><span class="sr-only">액션</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>홍길동</td>
        <td>hong@example.com</td>
        <td><span class="badge badge--success">활성</span></td>
        <td><button class="btn btn-ghost btn-sm" aria-label="홍길동 수정">수정</button></td>
      </tr>
    </tbody>
  </table>
</div>
```

기능: 정렬 (`aria-sort`), 행 선택 (체크박스), 고정 헤더 (`position: sticky`), 고정 컬럼

#### 4.3.5 Command Palette

```html
<div class="command-palette" role="dialog" aria-modal="true" aria-label="명령 팔레트">
  <div class="command-palette__input-wrapper">
    <svg aria-hidden="true"><!-- search --></svg>
    <input type="text" class="command-palette__input" placeholder="명령어 입력..."
           role="combobox" aria-expanded="true" aria-controls="cmd-list" aria-autocomplete="list" />
  </div>
  <div id="cmd-list" class="command-palette__list" role="listbox">
    <div class="command-palette__group">
      <span class="command-palette__group-label">최근</span>
      <div class="command-palette__item" role="option">
        <svg aria-hidden="true"><!-- icon --></svg>
        <span>새 프로젝트</span>
        <kbd>Ctrl+N</kbd>
      </div>
    </div>
  </div>
</div>
```

Ctrl+K / Cmd+K로 열기, 실시간 필터링, Arrow로 탐색, Enter로 실행

#### 4.3.6 Navigation

```html
<!-- Top Navigation -->
<header class="topnav">
  <a href="/" class="topnav__logo" aria-label="홈"><img src="/logo.svg" alt="" /><span>브랜드</span></a>
  <nav class="topnav__menu" aria-label="주 메뉴">
    <a href="/features" class="topnav__link" aria-current="page">기능</a>
    <a href="/pricing" class="topnav__link">요금</a>
  </nav>
  <button class="topnav__hamburger" aria-label="메뉴 열기" aria-expanded="false">
    <svg aria-hidden="true"><!-- menu --></svg>
  </button>
</header>

<!-- Side Navigation -->
<nav class="sidenav" aria-label="사이드 메뉴">
  <ul class="sidenav__list">
    <li><a href="/dashboard" class="sidenav__link" aria-current="page">
      <svg aria-hidden="true"><!-- icon --></svg><span>대시보드</span>
    </a></li>
    <li class="sidenav__group">
      <button class="sidenav__group-trigger" aria-expanded="true">
        <svg aria-hidden="true"><!-- icon --></svg><span>설정</span>
      </button>
      <ul class="sidenav__sublist">
        <li><a href="/settings/general" class="sidenav__link">일반</a></li>
      </ul>
    </li>
  </ul>
</nav>

<!-- Bottom Navigation (Mobile) -->
<nav class="bottomnav" aria-label="모바일 메뉴">
  <a href="/home" class="bottomnav__item" aria-current="page">
    <svg aria-hidden="true"><!-- icon --></svg><span>홈</span>
  </a>
  <a href="/search" class="bottomnav__item">
    <svg aria-hidden="true"><!-- icon --></svg><span>검색</span>
  </a>
</nav>
```

#### 4.3.7 File Upload

```html
<div class="file-upload" role="region" aria-label="파일 업로드">
  <div class="file-upload__dropzone" role="button" tabindex="0"
       aria-label="파일을 드래그하거나 클릭하여 업로드">
    <svg class="file-upload__icon" aria-hidden="true"><!-- upload --></svg>
    <p>파일을 드래그 앤 드롭하거나 <span class="file-upload__browse">클릭하여 선택</span></p>
    <p class="file-upload__hint">PNG, JPG, PDF (최대 10MB)</p>
    <input type="file" class="sr-only" multiple accept=".png,.jpg,.pdf" />
  </div>
  <ul class="file-upload__list" aria-label="업로드된 파일">
    <li class="file-upload__item">
      <span class="file-upload__name">document.pdf</span>
      <span class="file-upload__size">2.4 MB</span>
      <div class="progress progress--sm" role="progressbar" aria-valuenow="75">
        <div class="progress__bar" style="width: 75%"></div>
      </div>
      <button class="file-upload__remove" aria-label="document.pdf 삭제">
        <svg aria-hidden="true"><!-- x --></svg>
      </button>
    </li>
  </ul>
</div>
```

---

## 5. 접근성 (Accessibility)

### 5.1 WCAG 2.1 AA 준수 체크리스트

#### 인식 가능 (Perceivable)
- [ ] 모든 비텍스트 콘텐츠에 대체 텍스트 제공 (img alt, svg aria-label)
- [ ] 동영상에 자막 및 오디오 설명 제공
- [ ] 정보 전달이 색상에만 의존하지 않음
- [ ] 텍스트 대비비 최소 4.5:1 (큰 텍스트 3:1) 충족
- [ ] 200%까지 확대해도 콘텐츠 손실 없음
- [ ] 반응형 레이아웃: 320px 뷰포트에서 수평 스크롤 없음

#### 운용 가능 (Operable)
- [ ] 모든 기능 키보드로 접근 가능
- [ ] 키보드 포커스 함정 없음 (모달 제외)
- [ ] 포커스 순서가 논리적
- [ ] 포커스 인디케이터 가시적 (최소 2px 두께)
- [ ] 시간 제한 콘텐츠에 연장/해제 옵션
- [ ] 깜빡임 효과 초당 3회 미만
- [ ] Skip navigation 링크 제공
- [ ] 페이지 제목(title)이 내용을 명확하게 설명

#### 이해 가능 (Understandable)
- [ ] `html lang` 속성 설정
- [ ] 입력 오류 자동 감지 및 설명 제공
- [ ] 레이블과 입력 필드 연결 (for/id 또는 aria-labelledby)
- [ ] 일관된 네비게이션 구조

#### 견고함 (Robust)
- [ ] 유효한 HTML 마크업
- [ ] ARIA 역할/속성 올바르게 사용
- [ ] 커스텀 컴포넌트에 적절한 ARIA 패턴 적용
- [ ] 스크린 리더 호환성 테스트 통과

### 5.2 시맨틱 HTML

```html
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>페이지 제목 - 사이트명</title>
</head>
<body>
  <!-- Skip Navigation -->
  <a href="#main-content" class="skip-link">본문으로 건너뛰기</a>

  <header role="banner">
    <nav aria-label="주 메뉴">...</nav>
  </header>

  <aside aria-label="사이드바">...</aside>

  <main id="main-content">
    <h1>페이지 제목</h1>
    <section aria-labelledby="section-title">
      <h2 id="section-title">섹션 제목</h2>
      <h3>하위 섹션</h3>
    </section>
  </main>

  <footer role="contentinfo">...</footer>
</body>
</html>
```

Heading 규칙:
- h1은 페이지당 1개
- heading 레벨 건너뛰기 금지 (h1 다음 h3 사용 금지)
- heading으로 시각적 스타일링하지 않기 (스타일은 CSS로)

```css
.skip-link {
  position: absolute;
  top: -100%;
  left: 0;
  padding: var(--space-3) var(--space-4);
  background: var(--color-primary-600);
  color: white;
  z-index: var(--z-max);
  font-weight: var(--font-semibold);
}
.skip-link:focus {
  top: 0;
}
```

### 5.3 키보드 접근성

#### 5.3.1 포커스 관리

```css
/* 기본 포커스 스타일 - 모든 인터랙티브 요소에 적용 */
:focus-visible {
  outline: 2px solid var(--color-primary-500);
  outline-offset: 2px;
}

/* 마우스 클릭 시 포커스 링 숨기기 (키보드만 표시) */
:focus:not(:focus-visible) {
  outline: none;
}
```

#### 5.3.2 포커스 트랩 (모달, 드로어)

```js
// 포커스 트랩 구현 패턴
function trapFocus(element) {
  const focusableElements = element.querySelectorAll(
    'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'
  );
  const firstFocusable = focusableElements[0];
  const lastFocusable = focusableElements[focusableElements.length - 1];

  element.addEventListener('keydown', (e) => {
    if (e.key !== 'Tab') return;

    if (e.shiftKey) {
      if (document.activeElement === firstFocusable) {
        e.preventDefault();
        lastFocusable.focus();
      }
    } else {
      if (document.activeElement === lastFocusable) {
        e.preventDefault();
        firstFocusable.focus();
      }
    }
  });
}
```

#### 5.3.3 tabIndex 규칙

| 값 | 의미 | 사용 시기 |
|----|------|----------|
| `tabindex="0"` | 자연 탭 순서에 포함 | 비인터랙티브 요소를 포커스 가능하게 |
| `tabindex="-1"` | 탭 순서에서 제외, JS로 포커스 가능 | 프로그래밍 방식 포커스 (모달 열기) |
| `tabindex="1+"` | **사용 금지** | DOM 순서를 따르지 않아 혼란 유발 |

#### 5.3.4 키보드 단축키 패턴

| 단축키 | 기능 |
|--------|------|
| `Tab` / `Shift+Tab` | 다음/이전 포커스 가능 요소로 이동 |
| `Enter` / `Space` | 버튼 활성화, 링크 클릭 |
| `Escape` | 모달/드롭다운/팝오버 닫기 |
| `Arrow Up/Down` | 메뉴/리스트 항목 탐색 |
| `Arrow Left/Right` | 탭/슬라이더 탐색 |
| `Home` / `End` | 첫/마지막 항목으로 이동 |

### 5.4 ARIA

#### 5.4.1 주요 ARIA 역할과 속성

```html
<!-- 역할 (role) -->
<div role="dialog">...</div>        <!-- 모달 다이얼로그 -->
<div role="alert">...</div>         <!-- 긴급한 알림 -->
<div role="status">...</div>        <!-- 상태 업데이트 -->
<nav role="navigation">...</nav>    <!-- 네비게이션 (시맨틱 nav와 중복 가능) -->
<div role="tablist">...</div>       <!-- 탭 컨테이너 -->
<div role="progressbar">...</div>   <!-- 진행률 표시 -->

<!-- 상태 (state) -->
aria-expanded="true|false"          <!-- 열림/닫힘 (드롭다운, 아코디언) -->
aria-selected="true|false"          <!-- 선택됨 (탭, 옵션) -->
aria-checked="true|false|mixed"     <!-- 체크됨 (체크박스) -->
aria-disabled="true"                <!-- 비활성화 -->
aria-busy="true"                    <!-- 로딩 중 -->
aria-hidden="true"                  <!-- 스크린 리더에서 숨김 -->
aria-current="page|step|date"       <!-- 현재 항목 -->

<!-- 속성 (property) -->
aria-label="접근 가능한 이름"         <!-- 보이지 않는 레이블 -->
aria-labelledby="element-id"        <!-- 다른 요소로 레이블링 -->
aria-describedby="element-id"       <!-- 추가 설명 연결 -->
aria-controls="element-id"          <!-- 제어하는 요소 연결 -->
aria-live="polite|assertive"        <!-- 실시간 영역 -->
aria-atomic="true|false"            <!-- 전체/부분 읽기 -->
aria-required="true"                <!-- 필수 입력 -->
aria-invalid="true"                 <!-- 유효하지 않은 입력 -->
aria-errormessage="error-id"        <!-- 오류 메시지 연결 -->
```

#### 5.4.2 Live Regions

```html
<!-- 폴라이트: 사용자 작업 완료 후 알림 (토스트, 상태 업데이트) -->
<div aria-live="polite" aria-atomic="true">
  <!-- 동적으로 내용 변경 시 스크린 리더가 읽음 -->
</div>

<!-- 어서티브: 즉각적 알림 (오류, 긴급 메시지) -->
<div aria-live="assertive" role="alert">
  <!-- 현재 읽기를 중단하고 즉시 알림 -->
</div>
```

#### 5.4.3 흔한 ARIA 실수

```html
<!-- 잘못된 사용 -->
<div role="button">클릭</div>          <!-- button 요소를 사용해야 함 -->
<span role="link" onclick="...">링크</span>  <!-- a 요소를 사용해야 함 -->
<div aria-hidden="true"><button>...</button></div>  <!-- 인터랙티브 요소 숨기면 안 됨 -->

<!-- 올바른 사용 -->
<button>클릭</button>
<a href="/path">링크</a>
<div aria-hidden="true"><span>장식 텍스트</span></div>
```

규칙: 시맨틱 HTML 요소가 있으면 ARIA 대신 시맨틱 요소를 우선 사용

### 5.5 색상 접근성

| 요소 | 최소 대비비 | 기준 |
|------|-----------|------|
| 일반 텍스트 (< 18px) | 4.5:1 | WCAG AA |
| 큰 텍스트 (>= 18px bold 또는 >= 24px) | 3:1 | WCAG AA |
| UI 컴포넌트 경계 | 3:1 | WCAG AA |
| 비활성화 요소 | 면제 | - |
| 장식 요소 | 면제 | - |

```
색맹 대응 규칙:
- 색상만으로 정보를 전달하지 않음
- 에러: 빨간색 + 아이콘 + 텍스트 메시지
- 상태: 색상 + 아이콘 또는 패턴
- 차트/그래프: 색상 + 패턴(해칭, 도트) + 레이블
```

### 5.6 폼 접근성

```html
<!-- 필수 필드 표시 -->
<label for="username">
  사용자 이름 <span class="form-required" aria-hidden="true">*</span>
  <span class="sr-only">(필수)</span>
</label>
<input id="username" type="text" aria-required="true" />

<!-- 에러 메시지 연결 -->
<input id="email" type="email" aria-invalid="true" aria-errormessage="email-err" />
<p id="email-err" class="form-error" role="alert">올바른 이메일을 입력하세요.</p>

<!-- 스크린 리더 전용 텍스트 -->
<span class="sr-only">화면에 보이지 않지만 스크린 리더가 읽는 텍스트</span>
```

```css
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
```

### 5.7 모바일 접근성

- 터치 타겟 최소 크기: 44x44px (WCAG), 48x48px (Material 권장)
- 인접 터치 타겟 간 최소 간격: 8px
- 스와이프/핀치 등 제스처에 대한 버튼 대안 제공
- 화면 방향 제한 금지 (가로/세로 모두 지원)
- 자동 완성 지원 (`autocomplete` 속성 활용)

### 5.8 접근성 테스트

```
자동 테스트:
- axe-core: 자동화된 접근성 검사 (CI/CD 통합)
- Lighthouse: 접근성 점수 90+ 목표
- eslint-plugin-jsx-a11y: 개발 시 접근성 규칙 검사

수동 테스트:
- 키보드만으로 모든 기능 사용 테스트
- 스크린 리더 테스트 (VoiceOver/NVDA/JAWS)
- 200% 확대 테스트
- 고대비 모드 테스트
- 느린 네트워크 환경 테스트
```

---

## 6. 패턴 & 베스트 프랙티스

### 6.1 폼 패턴

#### 6.1.1 단일 페이지 폼 vs 멀티 스텝 폼

| 기준 | 단일 페이지 | 멀티 스텝 |
|------|-----------|----------|
| 입력 필드 수 | 7개 이하 | 8개 이상 |
| 논리적 그룹 | 1~2개 그룹 | 3개 이상 그룹 |
| 사용자 부담 | 낮음 | 높음 (단계별 완화) |

멀티 스텝 폼 규칙:
- 단계 표시기(Stepper) 제공: 현재 위치, 전체 단계 수
- 이전 단계 되돌아가기 가능
- 각 단계별 검증 후 다음 단계 이동
- 진행 상태 유지 (이탈 후 복원)

#### 6.1.2 검증 전략

```
인라인 검증 (Inline Validation):
- 필드 blur 시 검증 (입력 중 검증은 지양)
- 비밀번호 강도는 입력 중 실시간 피드백
- 중복 확인(아이디, 이메일)은 debounce 적용 (300ms)

제출 시 검증 (Submit Validation):
- 모든 필드 동시 검증
- 첫 번째 오류 필드로 스크롤 + 포커스 이동
- 오류 요약 영역 표시 (aria-live)
```

#### 6.1.3 에러 표시 전략

```html
<!-- 필드 레벨 에러 -->
<input aria-invalid="true" aria-errormessage="err-1" />
<p id="err-1" class="form-error" role="alert">
  <svg aria-hidden="true"><!-- error icon --></svg>
  비밀번호는 8자 이상이어야 합니다.
</p>

<!-- 폼 레벨 에러 요약 -->
<div class="form-error-summary" role="alert" aria-label="입력 오류">
  <h4>3개의 오류가 있습니다</h4>
  <ul>
    <li><a href="#email">이메일: 올바른 형식이 아닙니다</a></li>
    <li><a href="#password">비밀번호: 8자 이상 필요합니다</a></li>
    <li><a href="#name">이름: 필수 항목입니다</a></li>
  </ul>
</div>
```

#### 6.1.4 자동 저장 패턴

```
- 변경 후 2초 debounce로 자동 저장
- 저장 상태 표시: "저장됨", "저장 중...", "저장 실패"
- 오프라인 시 로컬 저장 + 온라인 복귀 시 동기화
- 마지막 저장 시간 표시
```

### 6.2 데이터 표시 패턴

#### 6.2.1 Empty State

```html
<div class="empty-state">
  <svg class="empty-state__illustration" aria-hidden="true"><!-- illustration --></svg>
  <h3 class="empty-state__title">아직 프로젝트가 없습니다</h3>
  <p class="empty-state__description">새 프로젝트를 만들어 시작하세요.</p>
  <button class="btn btn-primary btn-md">
    <svg aria-hidden="true"><!-- plus icon --></svg>
    새 프로젝트 만들기
  </button>
</div>
```

Empty State 규칙:
- 일러스트/아이콘으로 시각적 힌트 제공
- 상황 설명 + 다음 행동 안내
- CTA 버튼으로 빈 상태 해소 유도
- 검색 결과 없음: 검색어 확인, 필터 초기화 제안

#### 6.2.2 로딩 상태

| 시간 | 패턴 | 설명 |
|------|------|------|
| < 300ms | 아무것도 안 함 | 표시 없이 결과 렌더링 |
| 300ms ~ 1s | Spinner | 작은 인디케이터 |
| 1s ~ 5s | Skeleton | 콘텐츠 영역 골격 |
| > 5s | Progress Bar | 진행률 표시 |

#### 6.2.3 에러 상태

```
- 인라인 에러: 실패한 부분에 오류 메시지 표시
- 전체 페이지 에러: 404, 500 에러 페이지 (홈으로 링크)
- 부분 에러: 실패한 섹션만 에러, 나머지 정상 표시
- 네트워크 에러: 재시도 버튼 + 오프라인 안내
```

#### 6.2.4 무한 스크롤 vs 페이지네이션

| 기준 | 무한 스크롤 | 페이지네이션 |
|------|-----------|------------|
| 콘텐츠 탐색 | 소셜 피드, 이미지 갤러리 | 검색 결과, 테이블 |
| SEO | 불리함 | 유리함 |
| 북마크 가능 | 어려움 | URL로 가능 |
| footer 접근 | 어려움 | 쉬움 |
| 성능 | DOM 누적 (가상화 필요) | 고정 DOM |

### 6.3 인터랙션 패턴

#### 6.3.1 드래그 앤 드롭

```
- 드래그 핸들 아이콘 제공 (grip icon)
- 드래그 중 반투명 미리보기 표시
- 드롭 가능 영역 시각적 강조
- 키보드 대안: Arrow + Enter로 재정렬
- aria-grabbed, aria-dropeffect 또는 aria-roledescription 사용
- 접근성: "항목을 이동하려면 Space를 누른 후 화살표 키로 위치를 변경하세요"
```

#### 6.3.2 인라인 편집

```
- 더블 클릭 또는 편집 버튼으로 편집 모드 전환
- 편집 중: 입력 필드로 변환 + 저장/취소 버튼 표시
- Enter: 저장, Escape: 취소
- 편집 완료 시 시각적 피드백 (잠시 하이라이트)
```

#### 6.3.3 컨텍스트 메뉴

```
- 우클릭(마우스) 또는 Shift+F10(키보드) 으로 열기
- 현재 위치 근처에 표시 (뷰포트 밖으로 나가지 않게)
- 키보드: Arrow로 탐색, Enter로 실행, Escape로 닫기
```

### 6.4 피드백 패턴

#### 6.4.1 Toast vs Alert vs Banner

| 유형 | 지속성 | 위치 | 용도 |
|------|--------|------|------|
| Toast | 자동 닫힘 (5초) | 화면 모서리, 오버레이 | 성공/정보 피드백 |
| Alert | 수동 닫힘 | 콘텐츠 인라인 | 경고, 에러, 중요 안내 |
| Banner | 지속 | 페이지 상단 | 시스템 공지, 유지보수 안내 |

#### 6.4.2 확인 다이얼로그

```
파괴적 행동(삭제, 덮어쓰기)에 확인 다이얼로그 필수:
- 명확한 결과 설명: "5개의 파일이 영구 삭제됩니다"
- 주요 버튼에 구체적 동사 사용: "삭제" (x "확인", x "OK")
- 파괴적 버튼은 danger 스타일 적용
- 이중 확인: 중요 데이터 삭제 시 이름/텍스트 입력 요구
```

#### 6.4.3 Optimistic UI

```
- 액션 즉시 UI 업데이트 (서버 응답 전)
- 실패 시 자동 롤백 + 에러 토스트
- 적합: 좋아요, 북마크, 읽음 표시
- 부적합: 결제, 데이터 삭제, 계정 설정
```

### 6.5 네비게이션 패턴

#### 6.5.1 정보 아키텍처

```
- 최상위 메뉴: 5~7개 이하
- 깊이: 3단계 이하 권장
- 자주 사용하는 기능은 1클릭 내 도달
- 관련 기능은 그룹화
- 현재 위치 항상 표시 (active state, breadcrumb)
```

#### 6.5.2 검색 패턴

```
- 글로벌 검색: 항상 접근 가능한 위치 (헤더)
- 단축키 지원: Ctrl+K / Cmd+K
- 최근 검색어 표시 (5~10개)
- 자동완성 / 추천 검색어
- 검색 결과: 일치 부분 하이라이트
- 빈 결과: 검색어 수정 제안, 카테고리 필터
```

#### 6.5.3 필터링/정렬

```
- 필터: 사이드바 또는 드롭다운
- 활성 필터 태그로 표시 (제거 가능)
- "모두 초기화" 버튼
- URL 파라미터로 필터 상태 유지 (공유 가능)
- 결과 수 표시 (실시간 업데이트)
- 정렬: 드롭다운 선택 (관련도순, 최신순, 가격순 등)
```

---

## 7. 다크모드

### 7.1 CSS 변수 기반 테마 전환

```css
/* 라이트 모드 (기본) */
:root {
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --bg-tertiary: #f3f4f6;
  --text-primary: #111827;
  --text-secondary: #4b5563;
  --text-tertiary: #9ca3af;
  --border-default: #e5e7eb;
  --surface-default: #ffffff;
  --surface-raised: #ffffff;
}

/* 다크 모드 */
[data-theme="dark"] {
  --bg-primary: #0a0a0a;
  --bg-secondary: #111827;
  --bg-tertiary: #1f2937;
  --text-primary: #f9fafb;
  --text-secondary: #9ca3af;
  --text-tertiary: #6b7280;
  --border-default: #374151;
  --surface-default: #111827;
  --surface-raised: #1f2937;
}
```

### 7.2 시스템 설정 감지

```css
/* CSS로 시스템 다크모드 감지 */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --bg-primary: #0a0a0a;
    --bg-secondary: #111827;
    /* ... 다크 모드 변수 */
  }
}
```

### 7.3 수동 테마 전환

```js
// 테마 전환 로직
function setTheme(theme) {
  // theme: 'light' | 'dark' | 'system'
  if (theme === 'system') {
    document.documentElement.removeAttribute('data-theme');
    localStorage.removeItem('theme');
  } else {
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
  }
}

// 초기 로딩 시 테마 적용 (FOUC 방지 - head에 인라인 스크립트)
(function() {
  const saved = localStorage.getItem('theme');
  if (saved) {
    document.documentElement.setAttribute('data-theme', saved);
  }
})();
```

### 7.4 다크모드 컬러 매핑 전략

```
1. 단순 반전이 아닌 의미 기반 매핑
   - 라이트: 흰 배경 + 검은 텍스트
   - 다크: 매우 어두운 배경 + 밝은 텍스트 (순수 검정 #000 사용 금지 → #0a0a0a)

2. 채도 조정
   - 다크모드에서 고채도 색상은 눈 피로 유발
   - Primary 500 → 다크모드에서 Primary 400으로 한 단계 연하게

3. 엘리베이션 = 밝기
   - 라이트: 높은 엘리베이션 = 더 진한 그림자
   - 다크: 높은 엘리베이션 = 약간 더 밝은 배경 (그림자 대신)
```

### 7.5 이미지/미디어 다크모드

```css
/* 다크모드 이미지 밝기 조정 */
[data-theme="dark"] img:not([data-no-dim]) {
  filter: brightness(0.9) contrast(1.05);
}

/* SVG 아이콘: currentColor로 자동 적응 */
.icon { color: currentColor; }

/* 다크모드 전용 이미지 교체 */
<picture>
  <source srcset="/img/logo-dark.svg" media="(prefers-color-scheme: dark)">
  <img src="/img/logo-light.svg" alt="로고">
</picture>
```

### 7.6 우선순위

```
1. 사용자 설정 (localStorage) → 최우선
2. 시스템 설정 (prefers-color-scheme) → 기본값
3. 라이트 모드 → 폴백
```

---

## 8. 성능 & 최적화

### 8.1 CSS 성능

```css
/* 선택자 최적화 */
/* 피해야 할 패턴 */
div.container > ul > li > a.link { }     /* 깊은 중첩 - 느림 */
*[data-type="primary"] { }               /* 전체 선택자 - 느림 */

/* 권장 패턴 */
.nav-link { }                            /* 단일 클래스 - 빠름 */
.card__title { }                         /* BEM - 빠름, 구체적 */
```

레이아웃 스래싱 방지:

```js
// 잘못된 패턴: 읽기-쓰기 반복 (레이아웃 스래싱)
elements.forEach(el => {
  const height = el.offsetHeight;    // 읽기 (레이아웃 강제)
  el.style.height = height + 10 + 'px'; // 쓰기 (레이아웃 무효화)
});

// 올바른 패턴: 읽기 일괄 → 쓰기 일괄
const heights = elements.map(el => el.offsetHeight);  // 읽기 일괄
elements.forEach((el, i) => {
  el.style.height = heights[i] + 10 + 'px';          // 쓰기 일괄
});
```

### 8.2 애니메이션 성능

```css
/* 성능 좋은 속성만 애니메이션 (Compositor 레이어) */
.animated {
  transition: transform 300ms ease-out, opacity 300ms ease-out;
  /* transform, opacity만 GPU 가속 가능 */
}

/* 피해야 할 애니메이션 속성 */
/* width, height, top, left, margin, padding → 레이아웃 재계산 발생 */

/* will-change: 미리 GPU 레이어 생성 */
.modal {
  will-change: transform, opacity;
}
/* 사용 후 제거 */
.modal--hidden {
  will-change: auto;
}
```

| 속성 | 비용 | GPU 가속 |
|------|------|---------|
| `transform` | 낮음 | O |
| `opacity` | 낮음 | O |
| `filter` | 중간 | O |
| `background-color` | 중간 | X (페인트) |
| `width`, `height` | 높음 | X (레이아웃) |
| `top`, `left` | 높음 | X (레이아웃) |

### 8.3 폰트 최적화

```html
<!-- 핵심 폰트 preload -->
<link rel="preload" href="/fonts/Pretendard-Regular.woff2" as="font" type="font/woff2" crossorigin>

<!-- font-display 전략 -->
```

```css
@font-face {
  font-family: 'Pretendard';
  src: url('/fonts/Pretendard-Regular.woff2') format('woff2');
  font-display: swap;     /* 폴백 폰트 즉시 표시 → 로드 완료 시 교체 */
  /* optional: 느린 네트워크에서 웹폰트 무시 */
  /* fallback: swap과 유사하나 교체 기한 있음 */
}
```

| 전략 | FOIT | FOUT | 권장 상황 |
|------|------|------|----------|
| `swap` | 없음 | 있음 | 본문 텍스트 (가독성 우선) |
| `optional` | 없음 | 최소 | 장식 폰트 (성능 우선) |
| `fallback` | 짧음 | 짧음 | 제목 폰트 (균형) |

### 8.4 이미지 최적화

| 포맷 | 용도 | 장점 |
|------|------|------|
| AVIF | 사진, 일러스트 | 최고 압축률 (WebP 대비 20% 작음) |
| WebP | 사진, 일러스트 | 넓은 브라우저 지원, 좋은 압축 |
| SVG | 아이콘, 로고 | 벡터, 무한 확대, 작은 파일 |
| PNG | 투명 배경 필요 시 | 무손실 |

```html
<!-- Lazy loading -->
<img src="photo.webp" alt="설명" loading="lazy" decoding="async"
     width="800" height="600" />

<!-- CLS 방지: 항상 width, height 또는 aspect-ratio 지정 -->
<img style="aspect-ratio: 16/9; width: 100%; height: auto;" />
```

### 8.5 Core Web Vitals 목표

| 지표 | 설명 | 목표 |
|------|------|------|
| **LCP** (Largest Contentful Paint) | 최대 콘텐츠 렌더링 시간 | < 2.5초 |
| **INP** (Interaction to Next Paint) | 인터랙션 응답 시간 | < 200ms |
| **CLS** (Cumulative Layout Shift) | 누적 레이아웃 이동 | < 0.1 |

```
LCP 최적화:
- 히어로 이미지 preload
- 중요 CSS 인라인 (Critical CSS)
- 서버 사이드 렌더링 (SSR) 또는 정적 생성 (SSG)

INP 최적화:
- 이벤트 핸들러 최적화 (debounce, throttle)
- 무거운 작업 Web Worker로 분리
- 긴 작업 분할 (requestIdleCallback, scheduler.yield)

CLS 최적화:
- 이미지/동영상에 크기 속성 명시
- 동적 콘텐츠 삽입 시 공간 예약
- 웹폰트 로딩으로 인한 레이아웃 이동 방지 (font-display, size-adjust)
- 광고/임베드 영역 미리 크기 확보
```

---

## 부록: 빠른 참조

### 디자인 토큰 요약

```css
:root {
  /* 컬러 */
  --color-primary-600: #2563eb;
  --color-error-600: #dc2626;
  --color-success-600: #16a34a;
  --color-warning-600: #d97706;

  /* 타이포그래피 */
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;

  /* 스페이싱 */
  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-4: 1rem;      /* 16px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */

  /* 라운딩 */
  --radius-sm: 0.25rem; /* 4px */
  --radius-md: 0.375rem;/* 6px */
  --radius-lg: 0.5rem;  /* 8px */

  /* 그림자 */
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

  /* 모션 */
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
}
```

### 컴포넌트 크기 참조

| 컴포넌트 | sm | md | lg |
|----------|-----|-----|-----|
| Button 높이 | 32px | 40px | 48px |
| Input 높이 | 32px | 40px | 48px |
| Avatar | 32px | 40px | 56px |
| Icon | 16px | 20px | 24px |
| 터치 타겟 최소 | - | 44px | - |
